# Example configuration with custom preprocessing steps
# This config demonstrates how to use custom steps alongside built-in steps

# Path to folder containing custom step files
# For local use: absolute or relative path
# For Docker: mount your local folder and use the container path
custom_steps_folder: /path/to/your/custom_steps

# Pipeline steps execute in order
# Mix custom and built-in steps as needed
pipeline:
  # Load and prepare data
  - name: concatenate_recordings  # Built-in step
  
  # Set montage (built-in step)
  - name: set_montage
    montage: standard_1020
  
  # Apply custom filtering
  - name: my_custom_filter  # Custom step from example_custom_steps.py
    cutoff_freq: 30.0
  
  # Apply built-in bandpass filter
  - name: bandpass_filter  # Built-in step
    l_freq: 0.5
    h_freq: 40.0
  
  # Mark specific channels as bad (custom step)
  - name: mark_bad_channels_by_name  # Custom step
    channels: ['T7', 'T8']  # Example: mark these as bad
    instance: 'raw'
  
  # Find more bad channels using built-in detection
  - name: find_bads_channels_threshold  # Built-in step
    threshold: 5.0
  
  # Interpolate bad channels (built-in step)
  - name: interpolate_bad_channels
  
  # Re-reference (built-in step)
  - name: reference
    ref_channels: average
    instance: 'raw'
  
  # Find events (built-in step)
  - name: find_events
    shortest_event: 1
  
  # Epoch (built-in step)
  - name: epoch
    tmin: -0.2
    tmax: 0.8
    baseline: [null, 0]
  
  # Compute custom quality metric
  - name: compute_custom_metric  # Custom step
    metric_name: data_quality_score
    instance: epochs
  
  # Save results (built-in steps)
  - name: save_clean_instance
    instance: epochs
  
  - name: generate_json_report
  
  - name: generate_html_report
